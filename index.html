<html>

<head>
  <link rel= "stylesheet" href="menu.css">
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

</head>

<body>
  <h1 id="title">Restaurant Site</h1>
  <div id= "ramen0"></div>

  
  <div id= "food0">
    <h1 id="name0"></h1>
    <p id="broth0"></p>
    <p id="toppings0"></p>
    <p id="price0"></p>
    <input type="integer" id="quantity" placeholder="Enter quantity...">
    <button onclick="buy0()">Buy</button>
    

  
  <script>
    
    var foodName = [];
    var foodPrices = [];
    var total= [];
    
    var food0name;
    var food0price;
    
    
    /*********Ramen 1**********/
    
    var xmlhttp = new XMLHttpRequest();  //I want to begin a new file request from the server
    xmlhttp.onreadystatechange = function () {  //Do this function to check if it is ready
      if (this.readyState == 4 && this.status == 200) {  //If the server is ready(4) and the file is available(200)
        var mydata = JSON.parse(this.responseText);  //Save the JSOn file as mydata and convert it in a readable format.
        
        food0name = mydata.food[0].name;
        document.getElementById('name0').innerHTML = mydata.food[0].name;
        document.getElementById('broth0').innerHTML = mydata.food[0].broth;
        food0price = mydata.food[0].price;
        document.getElementById('price0').innerHTML = "$"+mydata.food[0].price+".00";
        document.getElementById('toppings0').innerHTML = mydata.food[0].toppings;
      }
    };

    xmlhttp.open("GET", "menu.json", true); //I will GET a file called menu.json
    xmlhttp.send(); //Send to the browser
    
    function buy0() {
      //Output the price of the food and multiply it by the quantity
      var x= food0price*quantity.value;
      document.getElementById('totalDisplay').innerHTML = "Subtotal= $"+x;
      var y= x*0.04712.toFixed(2);
      var z= y+x;
      document.getElementById('taxTotal').innerHTML= "Total= $"+z;
      
      //When they buy this item, the name of the food will push to the foodName array
      foodName.push(food0name);
      //I will push the price to the foodPrices array
      foodPrices.push(food0price);
      foodPrices+x;
      //Push the total with tax to the total array
      total.push(z);
      total+z;
      //Clear input box
      document.getElementById('quantity').value= "";

      //Create a list item
      var node= document.createElement('li');
      //Create a text node that is the entire list of the array.
      var textNode= document.createTextNode(foodName[0]);
      console.log(foodName);
      node.appendChild(textNode);
      document.getElementById("orderList").appendChild(node);
      //document.getElementById('orderList').innerHTML= z;
      window.alert(foodName.length);
    }
    
  </script>
  </div>

    <div id= "showPurchase">
      <h1 id= "yourOrder">Your Order</h1>
      <script>
        //var newText= $.createTextNode(parseFloat(x).toFixed(2));
        //p.appendChild(newText);
        //$.getElementById('totals').innerHTML= x;
      </script>
      
      <ul id= "orderList"></ul>
      <p id="totalDisplay"></p>
      <p id= "taxTotal"></p>
      <script>
        
      </script>

      <button onclick= "totalItems()">Checkout</button>
        
        
    </div>

</body>
